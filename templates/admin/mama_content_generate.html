{% extends "admin/base.html" %}

{% block title %}–ò–ò-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1><i class="fas fa-magic"></i> –ò–ò-–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h1>
        <a href="{{ url_for('admin_mama_content') }}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫ –ø–∞–Ω–µ–ª–∏
        </a>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="alert alert-info">
                <h5><i class="fas fa-info-circle"></i> –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ò–ò-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è</h5>
                <ul class="mb-0">
                    <li>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö —à–∞–±–ª–æ–Ω–æ–≤</li>
                    <li>–ö–æ–Ω—Ç–µ–Ω—Ç –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤—ã–±—Ä–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —Ç—Ä–∏–º–µ—Å—Ç—Ä</li>
                    <li>–í—Å–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ —Ç—Ä–µ–±—É—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π</li>
                    <li>–ê–≤—Ç–æ—Ä —Å—Ç–∞—Ç–µ–π: "–ò–ò-–ü–æ–º–æ—â–Ω–∏–∫"</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- –§–æ—Ä–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
    <div class="row">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-cogs"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h5>
                </div>
                <div class="card-body">
                    <form method="POST">
                        <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è -->
                        <div class="form-group">
                            <label for="category"><strong>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞:</strong></label>
                            <select class="form-control" id="category" name="category" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                                {% for key, name in categories.items() %}
                                <option value="{{ key }}" {% if request.args.get('category') == key %}selected{% endif %}>
                                    {% if key == 'sport' %}üèÉ {{ name }}
                                    {% elif key == 'nutrition' %}üçé {{ name }}
                                    {% elif key == 'vitamins' %}üíä {{ name }}
                                    {% elif key == 'body_care' %}üíÖ {{ name }}
                                    {% elif key == 'baby_care' %}üë∂ {{ name }}
                                    {% elif key == 'doctor_advice' %}üë®‚Äç‚öïÔ∏è {{ name }}
                                    {% else %}{{ name }}
                                    {% endif %}
                                </option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- –¢—Ä–∏–º–µ—Å—Ç—Ä -->
                        <div class="form-group">
                            <label for="trimester"><strong>–¢—Ä–∏–º–µ—Å—Ç—Ä –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏:</strong></label>
                            <select class="form-control" id="trimester" name="trimester" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–∏–º–µ—Å—Ç—Ä</option>
                                <option value="1" {% if request.args.get('trimester') == '1' %}selected{% endif %}>1 —Ç—Ä–∏–º–µ—Å—Ç—Ä (1-12 –Ω–µ–¥–µ–ª—è)</option>
                                <option value="2" {% if request.args.get('trimester') == '2' %}selected{% endif %}>2 —Ç—Ä–∏–º–µ—Å—Ç—Ä (13-27 –Ω–µ–¥–µ–ª—è)</option>
                                <option value="3" {% if request.args.get('trimester') == '3' %}selected{% endif %}>3 —Ç—Ä–∏–º–µ—Å—Ç—Ä (28-40 –Ω–µ–¥–µ–ª—è)</option>
                                <option value="all" {% if request.args.get('trimester') == 'all' %}selected{% endif %}>–õ—é–±–æ–π —Ç—Ä–∏–º–µ—Å—Ç—Ä</option>
                            </select>
                        </div>

                        <!-- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π -->
                        <div class="form-group">
                            <label for="count"><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç–∞—Ç–µ–π:</strong></label>
                            <select class="form-control" id="count" name="count">
                                <option value="1" {% if request.args.get('count') == '1' %}selected{% endif %}>1 —Å—Ç–∞—Ç—å—è</option>
                                <option value="3" {% if request.args.get('count') == '3' %}selected{% endif %}>3 —Å—Ç–∞—Ç—å–∏</option>
                                <option value="5" {% if request.args.get('count') == '5' %}selected{% endif %}>5 —Å—Ç–∞—Ç–µ–π</option>
                                <option value="10" {% if request.args.get('count') == '10' %}selected{% endif %}>10 —Å—Ç–∞—Ç–µ–π</option>
                                <option value="20" {% if request.args.get('count') == '20' %}selected{% endif %}>20 —Å—Ç–∞—Ç–µ–π</option>
                            </select>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ -->
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-lg">
                                <i class="fas fa-magic"></i> –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç
                            </button>
                            <a href="{{ url_for('admin_mama_content') }}" class="btn btn-secondary">
                                –û—Ç–º–µ–Ω–∞
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã -->
        <div class="col-md-4">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-bolt"></i> –ë—ã—Å—Ç—Ä—ã–µ —à–∞–±–ª–æ–Ω—ã</h5>
                </div>
                <div class="card-body">
                    <div class="list-group">
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=sport&trimester=1&count=5" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-dumbbell"></i> –°–ø–æ—Ä—Ç - 1 —Ç—Ä–∏–º–µ—Å—Ç—Ä (5 —Å—Ç–∞—Ç–µ–π)
                        </a>
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=nutrition&trimester=2&count=5" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-apple-alt"></i> –ü–∏—Ç–∞–Ω–∏–µ - 2 —Ç—Ä–∏–º–µ—Å—Ç—Ä (5 —Å—Ç–∞—Ç–µ–π)
                        </a>
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=doctor_advice&trimester=3&count=5" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-user-md"></i> –°–æ–≤–µ—Ç—ã –≤—Ä–∞—á–µ–π - 3 —Ç—Ä–∏–º–µ—Å—Ç—Ä (5 —Å—Ç–∞—Ç–µ–π)
                        </a>
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=vitamins&trimester=all&count=10" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-pills"></i> –í–∏—Ç–∞–º–∏–Ω—ã - –ª—é–±–æ–π —Ç—Ä–∏–º–µ—Å—Ç—Ä (10 —Å—Ç–∞—Ç–µ–π)
                        </a>
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=baby_care&trimester=all&count=5" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-baby"></i> –£—Ö–æ–¥ –∑–∞ –º–∞–ª—ã—à–æ–º (5 —Å—Ç–∞—Ç–µ–π)
                        </a>
                        <a href="{{ url_for('admin_mama_content_generate') }}?category=body_care&trimester=all&count=5" 
                           class="list-group-item list-group-item-action">
                            <i class="fas fa-spa"></i> –£—Ö–æ–¥ –∑–∞ —Ç–µ–ª–æ–º (5 —Å—Ç–∞—Ç–µ–π)
                        </a>
                    </div>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="card mt-3">
                <div class="card-header">
                    <h5><i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-6">
                            <h4 class="text-primary">0</h4>
                            <small>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è</small>
                        </div>
                        <div class="col-6">
                            <h4 class="text-success">0</h4>
                            <small>–û–¥–æ–±—Ä–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5><i class="fas fa-eye"></i> –ü—Ä–∏–º–µ—Ä—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <h6><i class="fas fa-dumbbell"></i> –°–ø–æ—Ä—Ç</h6>
                                </div>
                                <div class="card-body">
                                    <h6>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –ø–µ—Ä–≤–æ–º —Ç—Ä–∏–º–µ—Å—Ç—Ä–µ</h6>
                                    <p class="small">–í –ø–µ—Ä–≤–æ–º —Ç—Ä–∏–º–µ—Å—Ç—Ä–µ –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ –≤–∞–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –≠—Ç–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–æ–º–æ–≥—É—Ç —É–∫—Ä–µ–ø–∏—Ç—å –º—ã—à—Ü—ã –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ —Ä–æ–¥–∞–º.</p>
                                    <span class="badge badge-info">1 —Ç—Ä–∏–º–µ—Å—Ç—Ä</span>
                                    <span class="badge badge-secondary">–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header bg-success text-white">
                                    <h6><i class="fas fa-apple-alt"></i> –ü–∏—Ç–∞–Ω–∏–µ</h6>
                                </div>
                                <div class="card-body">
                                    <h6>–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –≤–æ –≤—Ç–æ—Ä–æ–º —Ç—Ä–∏–º–µ—Å—Ç—Ä–µ</h6>
                                    <p class="small">–í–æ –≤—Ç–æ—Ä–æ–º —Ç—Ä–∏–º–µ—Å—Ç—Ä–µ –æ—Å–æ–±–µ–Ω–Ω–æ –≤–∞–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø–∏—Ç–∞–Ω–∏–µ–º. –†–∞—Ü–∏–æ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –±–æ–≥–∞—Ç—ã–º –≤–∏—Ç–∞–º–∏–Ω–∞–º–∏.</p>
                                    <span class="badge badge-info">2 —Ç—Ä–∏–º–µ—Å—Ç—Ä</span>
                                    <span class="badge badge-secondary">–õ–µ–≥–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header bg-info text-white">
                                    <h6><i class="fas fa-user-md"></i> –°–æ–≤–µ—Ç—ã –≤—Ä–∞—á–µ–π</h6>
                                </div>
                                <div class="card-body">
                                    <h6>–°–æ–≤–µ—Ç—ã –≤—Ä–∞—á–∞: —Ç—Ä–µ—Ç–∏–π —Ç—Ä–∏–º–µ—Å—Ç—Ä</h6>
                                    <p class="small">–í —Ç—Ä–µ—Ç—å–µ–º —Ç—Ä–∏–º–µ—Å—Ç—Ä–µ –≤–∞–∂–Ω–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø–æ—Å–µ—â–∞—Ç—å –≤—Ä–∞—á–∞ –∏ —Å–¥–∞–≤–∞—Ç—å –∞–Ω–∞–ª–∏–∑—ã. –ü—Ä–∏ –ª—é–±—ã—Ö —Ç—Ä–µ–≤–æ–∂–Ω—ã—Ö —Å–∏–º–ø—Ç–æ–º–∞—Ö –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É.</p>
                                    <span class="badge badge-info">3 —Ç—Ä–∏–º–µ—Å—Ç—Ä</span>
                                    <span class="badge badge-secondary">–°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    
    if (urlParams.get('category')) {
        document.getElementById('category').value = urlParams.get('category');
    }
    if (urlParams.get('trimester')) {
        document.getElementById('trimester').value = urlParams.get('trimester');
    }
    if (urlParams.get('count')) {
        document.getElementById('count').value = urlParams.get('count');
    }
});
</script>
{% endblock %}
