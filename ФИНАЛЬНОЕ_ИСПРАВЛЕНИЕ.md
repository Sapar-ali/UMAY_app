# üéâ –§–ò–ù–ê–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ë–ê–ó –î–ê–ù–ù–´–•

## ‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!**

### **–ò—Å—Ö–æ–¥–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå `RuntimeError: The current Flask app is not registered with this 'SQLAlchemy' instance`
2. ‚ùå `sqlite3.OperationalError: no such table: user`
3. ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ SQLAlchemy

### **–ü—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SQLAlchemy —Å –¥–≤—É–º—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–¥–µ–ª—å `User` –±—ã–ª–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –∫ –æ–¥–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîß **–†–µ—à–µ–Ω–∏–µ:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:**
```python
# –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
class User(UserMixin, db.Model):
    __tablename__ = 'user'
    # ... –ø–æ–ª—è

# –ú–æ–¥–µ–ª—å –¥–ª—è UMAY Pro
class UserPro(UserMixin, db_pro.Model):
    __tablename__ = 'user_pro'
    # ... –ø–æ–ª—è

# –ú–æ–¥–µ–ª—å –¥–ª—è UMAY Mama  
class UserMama(UserMixin, db_mama.Model):
    __tablename__ = 'user_mama'
    # ... –ø–æ–ª—è
```

### **2. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
# –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–µ Flask –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
app_pro, db_pro = create_app_database('pro')
app_mama, db_mama = create_app_database('mama')

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
app = app_pro
db = db_pro
```

### **3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤:**
```python
# –ü–†–ê–í–ò–õ–¨–ù–û - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
with app_mama.app_context():
    user = db_mama.session.query(UserMama).filter_by(login=login).first()

# –ü–†–ê–í–ò–õ–¨–ù–û - —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
with app_pro.app_context():
    user = db_pro.session.query(UserPro).filter_by(login=login).first()
```

## üóÑÔ∏è **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö:**

### **UMAY Pro (`umay_pro.db`):**
- `user_pro` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ UMAY Pro
- `patient` - –¥–∞–Ω–Ω—ã–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤
- `news` - –Ω–æ–≤–æ—Å—Ç–∏
- `media_file` - –º–µ–¥–∏–∞-—Ñ–∞–π–ª—ã

### **UMAY Mama (`umay_mama.db`):**
- `user_mama` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ UMAY Mama
- `mama_content` - –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `media_file` - –º–µ–¥–∏–∞-—Ñ–∞–π–ª—ã

## üîê **–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

### **–ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è:**
- ‚úÖ –†–∞–∑–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –†–∞–∑–Ω—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –†–∞–∑–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã SQLAlchemy

### **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã:**
- **Joker** (admin) - –≤ —Ç–∞–±–ª–∏—Ü–µ `user_pro`
- **–ë–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∂–µ–Ω—â–∏–Ω—ã** - –≤ —Ç–∞–±–ª–∏—Ü–µ `user_mama`

## üöÄ **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
1. **UMAY Mama**: –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `user_mama`
2. **UMAY Pro**: –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ `user_pro`

### **–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `user_pro` —Ç–∞–±–ª–∏—Ü—É
2. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `user_mama` —Ç–∞–±–ª–∏—Ü—É
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Joker –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–µ–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- –û–±—ã—á–Ω—ã–µ –∞–¥–º–∏–Ω—ã - —Ç–æ–ª—å–∫–æ UMAY Pro

## üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå `RuntimeError` –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –±–∞–∑–µ
- ‚ùå `no such table: user` –æ—à–∏–±–∫–∞
- ‚ùå –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤

### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –¥–≤—É–º—è –±–∞–∑–∞–º–∏
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- ‚úÖ –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üéØ **–ü—Ä–æ–≤–µ—Ä–∫–∞:**

### **–õ–æ–∫–∞–ª—å–Ω–æ:**
```bash
python run_local.py
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:5001
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ –æ–±–µ–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
```

### **–ù–∞ –¥–µ–ø–ª–æ–µ:**
- ‚úÖ –¢–∞ –∂–µ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Railway
- ‚úÖ PostgreSQL —Å—Ö–µ–º—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## üéâ **–ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!**

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö!**

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

**üöÄ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω!**
